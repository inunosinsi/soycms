<html>
<head soy:page="_common.HeaderPage" isOverWrite="true">
	<link rel="stylesheet" href="./../../../../css/style.css" type="text/css">
</head>
<body>

<style type="text/css">
#content h4{
	margin-top:10px;
	margin-bottom:5px;
	margin-left:5px;
}
</style>


<div class="container">
	<div id="header" class="span-24 last" soy:page="_common.UpperMenuPage"></div>
	<div id="menu" class="span-24 last" soy:page="_common.TabPage"></div>

	
		
		<!-- content start -->
		<div id="content" class="span-24 last">
			<div id="top" class="span-23 last">
				<h2>記事の管理</h2>
			</div>

			<div class="functions prepend-1 span-22 last">
				<a href="#" soy:link="EntryTemplate" style="margin-left:15px;">記事雛型の管理</a>
			</div>
			
			<div id="entry_functions" class="span-22 last">
				<div class="prepend-1 span-6 colborder" style="_width:271px;">
					<div class="span-6 last">
						<h5>機能</h5>
					</div>
					
					<div class="span-3 icon">
						<a soy:link="Entry.Create">
							<img soy:src="./image/simplemode/new.gif" />
							<h6>記事の新規作成</h6>
						</a>
					</div>
					
					<div class="span-3 icon last">
						<a soy:link="Entry.Search">
							<img soy:src="./image/simplemode/search.gif" />
							<h6>記事の検索</h6>
						</a>
					</div>
				</div>
				
				<div class="labels span-14 last">
				
					<div class="span-14 last">
						<h5>最近使ったラベルで絞り込み</h5>
					</div>
					
					<!-- soy:id="recent_labels" -->
					<div class="icon span-3">
					<a soy:id="label_link">
						<img soy:id="label_icon" height="64" width="64">
						<h6 soy:id="label_title"></h6>
					</a>
					</div>
					<!-- /soy:id="recent_labels" -->
				</div>
			</div>
			
			<hr class="span-22" style="margin-left:40px;" />
			
			<div class="prepend-1 span-22 last">
				<h5 id="toggle_label_list_opened" class="toggle_list toggle_list_opened span-22 last" onclick="return toggle_label_list(this, 'label_list');">ラベルで絞り込み [-]</h5>
				<h5 id="toggle_label_list_closed" class="toggle_list toggle_list_closed span-22 last" onclick="return toggle_label_list(this, 'label_list');">ラベルで絞り込み [+]</h5>
			</div>
					
			<div id="label_list" class="prepend-2 span-22 last">
				<!-- soy:id="label_categories" -->
				<h6 soy:id="toggle_opened" id="toggle_label_list_opened" class="toggle_list toggle_list_opened span-22 last" onclick="return toggle_label_list(this, 'label_list');"><!-- soy:id="label_category_name" /--> [-]</h6>
				<h6 soy:id="toggle_closed" id="toggle_label_list_closed" class="toggle_list toggle_list_closed span-22 last" onclick="return toggle_label_list(this, 'label_list');"><!-- soy:id="label_category_name" /--> [+]</h6>
				<div soy:id="toggle_target" class="prepend-1 span-22 last">
					<!-- soy:id="label_list" -->
					<div class="label_table span-5">
						<div class="icon span-5 last">
							<a soy:id="detail_link_01">
								<img soy:id="label_icon" soy:src="./image/labelicon/default.gif" height="64" width="64" />
								<h6 soy:id="label_name">ラベルA</h6>
							</a>
							<br/>
							<a soy:id="create_link" href="#">新規作成</a>
						</div>
							
						<div class="info span-5 last">
							<p soy:id="label_description">ラベルのメモが入ります。</p>
						</div>
					</div>
					<!-- /soy:id="label_list" -->
				</div soy:id="toggle_target">
				<!-- /soy:id="label_categories" -->
			</div>
			
			<script type="text/javascript">
			<!--
				function toggle_label_list(ele, target_id){
					if($(ele).attr("id") == "toggle_"+target_id+"_opened"){
						$("#toggle_"+target_id+"_opened").hide();
						$("#toggle_"+target_id+"_closed").css("display", "inline");
						$("#toggle_"+target_id+"_closed").css("margin-right", "1em");
						$("#"+target_id).hide();
						is_opened = 0;
					}else{
						$("#toggle_"+target_id+"_opened").show();
						$("#toggle_"+target_id+"_closed").hide();
						$("#"+target_id).show();
						is_opened = 1;
					}
					
					document.cookie = 'label_list_'+target_id+'=' + is_opened + "; expires=" + new Date(2030, 1).toUTCString();
					
					return false;
				}
				//クッキーからlabellistの状態取得
				$(function(){
					var regexp = new RegExp(' label_list_[^=]+?=[^;]+?;','g');
					var match  = (' ' + document.cookie + ';').match(regexp);
					
					if(match instanceof Array){
						regexp = new RegExp('label_list_([^=]+?)=([^;]+?);');
						
						match.forEach(function(e){
							var match2  = e.match(regexp);
							var target_id = match2[1];
							var is_opened = (match2) ? match2[2] : 1;
							if(is_opened != 1){
								toggle_label_list($("#toggle_"+target_id+"_opened"), target_id);
							}
						});
					}
				});
			//-->
			</script>
			
			<hr class="span-22" style="margin-left:40px;">
			
			<div class="prepend-1 span-22 last">
				<h5 id="toggle_status_list_opened" class="toggle_list toggle_list_opened span-22 last" onclick="return toggle_label_list(this, 'status_list');">公開状態で絞込み [-]</h5>
				<h5 id="toggle_status_list_closed" class="toggle_list toggle_list_closed span-22 last" onclick="return toggle_label_list(this, 'status_list');">公開状態で絞込み [+]</h5>
			</div>
			<div id="status_list" class="prepend-2 span-22 last">
				<div class="label_table span-6">
					<div class="icon span-6" style="text-align:left;height:64px;">
						<a href="#" soy:link="Entry.List.Closed">
							<img soy:src="./image/labelicon/default.gif" height="64" width="64" style="vertical-align:text-top;float:left;padding-right: 4px;"/>
							<h6 soy:id="closedTitle" style="display:inline;margin:0px;font-size:0.8em;">非公開</h6>
						</a>
						<p>非公開に設定してある記事の一覧です。</p>
					</div>
				</div>
				<div class="label_table span-6">
					<div class="icon span-6" style="text-align:left;height:64px;">
						<a href="#" soy:link="Entry.List.OutOfDate">
							<img soy:src="./image/labelicon/default.gif" height="64" width="64" style="vertical-align:text-top;float:left;padding-right: 4px;"/>
							<h6 soy:id="outofdateTitle" style="display:inline;margin:0px;font-size:0.8em;">公開期間外</h6>
						</a>
						<p>公開期間外になっている記事の一覧です。</p>
					</div>
				</div>
				<div class="label_table span-6 last">
					<div class="icon span-6" style="text-align:left;height:64px;">
						<a href="#" soy:link="Entry.List.NoLabel">
							<img soy:src="./image/labelicon/default.gif" height="64" width="64" style="vertical-align:text-top;float:left;padding-right: 4px;"/>
							<h6 soy:id="noLabelTitle" style="display:inline;margin:0px;font-size:0.8em;">ラベル無</h6>
						</a>
						<p>ラベル指定のない記事の一覧です。</p>
					</div>
				</div>
			</div>
			
			<hr class="span-22"  style="margin-left:40px;"/>
			
			<div class="span-23 last" soy:display="all_entries">
				<div class="span-23 last">
					<h2>すべての記事</h2>
				</div>
				<a name="entry_list"></a>
			
				<!-- copy from ListPage.html -->
				<div class="span-23 last soy-push-1">
				<form soy:id="index_form" id="index_form">
					<input type="hidden" name="op_code" id="op_code">
					<input type="hidden" name="label_select" id="label_select">
					
					<div soy:panel="checkbox_functions" class="checkbox_functions">
						<div class="checkbox_functions_left"><!----></div>
						<div soy:display="publish" class="checkbox_functions_content">
							<p>チェックのついた記事を..</p>
							<p><a href="javascript:void(0);" onclick="javascript:onTogglePublic(false);return false;">非公開にする</a></p>
							<p><a href="javascript:void(0);" onclick="javascript:onTogglePublic(true);return false;">公開にする</a></p>
							<p><a href="javascript:void(0);" onclick="javascript:onOpenListPanel();">ラベル操作</a></p>
							<p><a href="javascript:void(0);" onclick="javascript:copyEntry();return false;">複製する</a></p>
							<p><a href="javascript:void(0);" onclick="javascript:deleteEntry();return false;">削除する</a></p>
						</div soy:display="publish">
						<div class="checkbox_functions_right"><!----></div>
					</div soy:panel="checkbox_functions">
				
					<div soy:panel="pager" class="pager">
						<h5 soy:id="topPager">
							<a soy:id="prevAnchor" href="#">&nbsp;&laquo;前&nbsp;</a>
							<span soy:id="contentPage">5件中 1-5件目</span>
							<a soy:id="nextAnchor" href="#">&nbsp;次&raquo;&nbsp;</a>
						</h5 soy:id="topPager">
						<h5>
							<p>表示件数</p>
							<p><a href="#" soy:id="showCount10" >10件</a></p>
							<p><a href="#" soy:id="showCount50" >50件</a></p>
							<p><a href="#" soy:id="showCount100">100件</a></p>
							<p><a href="#" soy:id="showCount500">500件</a></p>
						</h5>
					</div soy:panel="pager">
					
					<div style="clear:both"><!----></div>
					<div soy:id="no_entry_message"></div soy:id="no_entry_message">
					
					<div class="span-23 last" soy:display="must_exist_entry">
						<table class="span-22 list last">
							<thead>
								<tr>
									<td class="checkbox" soy:display="publish">
										<script type="text/javascript">
											function toggle_all_entry_check(value){
												$(".entry_check").each(function(){
													$(this).prop("checked",value);
												});																	
											}
							   			</script>
										<input type="checkbox" onclick="toggle_all_entry_check(this.checked);">
									</td>
									<td class="title">タイトル</td>
									<td class="status">公開状態</td>
									<td>本文</td>
									<td>ラベル</td>
									<td>作成日</td>
									<td soy:display="no_label">
										<input type="button" soy:id="display_order_submit" value="表示順更新" onclick="document.getElementById('op_code').value='update_display';return confirm('表示順の更新を行います');">
									</td>
								</tr>
							</thead>
							<tbody class="entry_list">
								<tr soy:id="list">
									<td class="checkbox" soy:display="publish">
										<input soy:id="entry_check" class="entry_check">
									</td>
									<td class="title">
										<a soy:id="title" href="#" >タイトル...</a>
									</td>
									<td class="status">
										<p soy:id="status"></p>
									</td>
									<td class="content">
										<div soy:id="content"></div>
									</td>
									<td class="labels">
										<span soy:id="label">
											<a soy:id="entry_list_link">ラベル１...</a>
										</span soy:id="label">
									</td>
									<td class="create_date" style="text-align:center;">
										<span soy:id="create_date" />
									</td>
									<td class="order" soy:display="no_label" style="text-align:center;">
										<input soy:id="order" size="5">
									</td>
								</tr soy:id="list">
							</tbody>
						</table>		
						</div soy:display="must_exist_entry">
					<div soy:panel="checkbox_functions" class="checkbox_functions"></div soy:panel="checkbox_functions">
					<div soy:panel="pager" class="pager"></div soy:panel="pager">
					
				</form soy:id="index_form">
				</div>
				<!-- end of copy from ListPage.html -->
			</div soy:display="all_entries">			
			<div id="subFunctions" class="span-24 last" soy:page="_common.FooterMenuPage"></div>
		</div>


	
	<div soy:page="_common.FooterPage"></div>
</div>
</body>
</html>