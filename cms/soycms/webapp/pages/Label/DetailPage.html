<html>
<head soy:page="_common.HeaderPage" isOverWrite="true">
	<link rel="stylesheet" href="./../../../../css/style.css" type="text/css">
</head>
<body>
<div class="container">
	<div id="header" class="span-24 last" soy:page="_common.UpperMenuPage"></div>
	<div id="menu" class="span-24 last" soy:page="_common.TabPage"></div>

			
	
		<!-- content start -->
		<div id="content" class="span-24 last">
			
			<div class="span-22 prepend-1 last">
			<h3><a soy:link="Entry">記事一覧</a> &gt; <a soy:link="Label">ラベルの管理</a> &gt; ラベル詳細</h3>
			
			<form soy:id="update_form">
			
			<div class="section" style="float:left;width:50%">
				<p class="sub">ラベル名</p>
				<input id="title" type="text" soy:id="caption" onblur="captionOnBlur(this);" />
			</div>
				
			<div id="icon">
				<p class="sub">アイコン</p>
				<img id="icon_preview" soy:id="label_icon" style="cursor:pointer;width:64px;height:64px" />
				<input type="hidden" soy:id="icon" />
			</div>
			
			<div class="section" style="width:50%;">
				<p class="sub">URL</p>
				<input id="alias" type="text" soy:id="alias" />
			</div>
			
			<br style="clear:both;" />
			
			<div class="section">
				<p class="sub">メモ</p>
				<textarea type="text" soy:id="description" cols="80" rows="5"></textarea>
			</div>
			
			<div id="debug">
			</div>
			
			<div class="section">
				<p class="sub">プレビュー</p>
				<span id="preview" soy:id="preview"></span>
			</div>
			
			<div class="section" style="float:left;width:280px;">
				<p class="sub">文字色</p>
				#<input type="text" id="fcolor" soy:id="color" maxlength="6"/>
			</div>
			<div class="section" style="float:left;width:280px;">
				<p class="sub">背景色</p>
				#<input type="text" id="bcolor" soy:id="background_color" maxlength="6"/>
			</div>
			
			<br style="clear:both;" />
			
			<div class="section">
				<input type="submit" value="更新" class="submit_button" />
			</div>
			
			
			</form soy:id="update_form">
			</div>
			
			
			<script lang="text/javascript">

				$("#fcolor").ColorPicker({
						color: "#" + $("#fcolor").val(),
						onChange: function (hsb, hex, rgb) {
								$("#fcolor").val(hex.toUpperCase());
								$("#preview").css("color", "#" + hex);
						}
				});
				$("#bcolor").ColorPicker({
						color: "#" + $("#bcolor").val(),
						onChange: function (hsb, hex, rgb) {
								$("#bcolor").val(hex.toUpperCase());
								$("#preview").css("background", "#" + hex);
						}
				});

				function captionOnBlur(input){
				  $("#alias").val($(input).val());
				  $("#preview").html($("<div>").text($(input).val()).html());
				}
				
				function changeImageIcon(id){
					common_element_to_layer($("#image_list"),
						{	width:440,
							height:500,
							onclose:function(){
								$("body").append($("#image_list"));
								$("#image_list").hide();
							}});
					$("#image_list").attr("label_id",id);
					$("#image_list").show();
				}
				
				function postChangeLabelIcon(ele,filename){
					$("#labelicon").val(filename);
					$("#icon_preview").attr("src",ele.src);
					common_close_layer();
					return false;
				}
			</script>
			
			<div id="image_list" style="width:100%;height:100%;display:none;">
				<h4>ダブルクリックで変更</h4>
				
				<span soy:id="image_list">
					<img soy:id="image_list_icon" style="width:64px;height:64px;">
				</span soy:id="image_list">
			</div>
			
				<div id="subFunctions" class="span-24 last" soy:page="_common.FooterMenuPage"></div>
		</div>


	
	<div soy:page="_common.FooterPage"></div>

</div>
</body>
</html>
