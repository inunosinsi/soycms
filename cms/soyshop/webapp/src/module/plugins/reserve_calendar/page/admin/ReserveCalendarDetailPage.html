<div class="row">
	<div class="col-lg-12">
		<div class="panel panel-default">
			<div class="panel-heading">予約</div>

			<div class="panel-body">
				<div class="alert alert-success" soy:display="updated">更新しました</div>
				<div class="alert alert-success" soy:display="registration">本登録にしました。</div>
				<div class="alert alert-success" soy:display="canceled">キャンセルしました。</div>
				<div class="alert alert-danger" soy:display="error">失敗しました。</div>

				<div class="table-responsive">
					<table class="table table-striped short_table">
						<caption>スケジュール詳細</caption>
						<tr>
							<th style="width:20%;">カレンダー名</th>
							<td><a soy:id="item_name">aaa</a></td>
						</tr>
						<tr>
							<th>予定</th>
							<td soy:id="schedule"></td>
						</tr>
						<tr>
							<th>金額</th>
							<td><!-- soy:id="price"  /-->円</td>
						</tr>
						<!-- soy:id="price_list" -->
						<tr>
							<th soy:id="label">拡張金額</th>
							<td><!-- soy:id="ext_price"  /-->円</td>
						</tr>
						<!-- /soy:id="price_list" -->
						<tr>
							<th>予約人数</th>
							<td>
								<!-- soy:id="reserved_count" /--> / <!-- soy:id="seat" /-->&nbsp;&nbsp;
								<a href="javascript:void(0);" class="btn btn-default" id="show_change_button">上限を変更する</a>&nbsp;
								<span id="change_seat">
									<form soy:id="change_form">
										<input type="number" soy:id="unsold_seat_change">&nbsp;
										<input type="submit" name="change" class="btn btn-warning" value="変更">
									</form>
								</span>
							</td>
						</tr>
					</table>
				</div>

				<!-- soy:display="has_reserved" -->
				<div class="table-responsive">
					<table class="table table-striped">
						<caption>予約状況</caption>
						<thead>
							<tr>
								<th>予約日時</th>
								<th>席数</th>
								<th>顧客名</th>
								<th>メールアドレス</th>
								<th>電話番号</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							<!-- soy:id="reserved_list" -->
							<tr>
								<td ><a soy:id="reserve_date"></a></td>
								<td  soy:id="seat"></td>
								<td ><a soy:id="user_name"></a></td>
								<td><a soy:id="mail_address"></a></td>
								<td soy:id="telephone_number"></td>
								<td soy:id="is_cancel_button">
									<a soy:id="cancel_link" class="btn btn-warning">キャンセル</a>
								</td>
							</tr>
							<!-- /soy:id="reserved_list" -->
						</tbody>
					</table>
					<div class="alert alert-info">※再予約を行う場合は一度キャンセルを行ってからにしてください</div>
				</div>
				<!-- /soy:display="has_reserved" -->

				<!-- soy:display="has_tmp_reserved" -->
				<div class="table-responsive">
					<table class="table table-striped">
						<caption>仮予約</caption>
						<thead>
							<tr >
								<th>予約日時</th>
								<th>席数</th>
								<th>顧客名</th>
								<th>メールアドレス</th>
								<th>電話番号</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							<!-- soy:id="tmp_reserved_list" -->
							<tr>
								<td ><a soy:id="reserve_date"></a></td>
								<td soy:id="seat"></td>
								<td ><a soy:id="user_name"></a></td>
								<td><a soy:id="mail_address"></a></td>
								<td soy:id="telephone_number"></td>
								<td>
									<a soy:id="reserve_link" class="btn btn-primary">本登録</a>
								</td>
							</tr>
							<!-- /soy:id="tmp_reserved_list" -->
						</tbody>
					</table>
					<div class="alert alert-info">※再予約を行う場合は一度キャンセルを行ってからにしてください</div>
				</div>
				<!-- /soy:display="has_tmp_reserved" -->

				<!-- soy:display="has_canceled" -->
				<div class="table-responsive">
					<table class="table table-striped cancel_table">
						<caption>キャンセル</caption>
						<thead>
							<tr >
								<th>キャンセル日時</th>
								<th>顧客名</th>
								<th>メールアドレス</th>
								<th>電話番号</th>
								<th>&nbsp;</th>
							</tr>
						</thead>
						<tbody>
							<!-- soy:id="cancel_list" -->
							<tr>
								<td soy:id="cancel_date" ></td>
								<td ><a soy:id="user_name"></a></td>
								<td><a soy:id="mail_address"></a></td>
								<td soy:id="telephone_number"></td>
								<td>
									<a soy:id="re_reserve_link" class="btn btn-primary">再予約</a>
								</td>
							</tr>
							<!-- /soy:id="cancel_list" -->
						</tbody>
					</table>
				</div>
				<!-- /soy:display="has_canceled" -->

				<!-- soy:display="display_register_form" -->
				<form soy:id="form">
					<div class="table-responsive">
						<table class="table table-striped short_table">
							<caption>予約する</caption>
							<tr>
								<th>お名前</th>
								<td><input type="text" class="form-control" soy:id="name" required="required"></td>
							</tr>
							<tr>
								<th>フリガナ</th>
								<td><input type="text" class="form-control" soy:id="reading"></td>
							</tr>
							<tr>
								<th>メールアドレス</th>
								<td><input type="email" class="form-control" soy:id="mail_address"></td>
							</tr>
							<tr>
								<th>電話番号</th>
								<td><input type="text" class="form-control" soy:id="telephone_number"></td>
							</tr>
							<tr>
								<th>席数</th>
								<td><input type="number" class="form-control" soy:id="seat_input" min="1"></td>
							</tr>
						</table>

						<div class="text-center">
							<input type="submit" class="btn btn-primary btn-lg" value="登録する">
						</div>
					</div>
				</form>
				<!-- /soy:display="display_register_form" -->
			</div>
		</div>
	</div>
</div>

<style>
table.form_list{
	margin-bottom:0px !important;
}
table.short_table{
	width:60%;
	margin-bottom:20px !important;
}
table.cancel_table{
	margin-top:20px !important;
	margin-bottom:20px !important;
}
/**th {
	text-align:center;
}**/

#change_seat{
	display:none;
}
</style>

<script>
$("#show_change_button").on("click", function(){
	$("#change_seat").show();
	$("#show_change_button").hide();
});
</script>
