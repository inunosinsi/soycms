<div class="alert alert-info">テンプレートへの記述</div>

<a href="javascript:void(0);" onclick="$('.script_example').toggle();" class="btn btn-default">テンプレートへの記述例を表示する</a>
<pre style="display:none;border:1px solid #000000;padding:5px 20px;margin:0 35px;" class="script_example">
<strong>&lt;!-- block:id="has_reviews" --&gt;</strong>
&lt;section&gt;
  &lt;h1&gt;「<strong>&lt;!-- cms:id="review_item_name" /--&gt;</strong>」へのカスタマーレビュー&lt;/h1&gt;
  <strong>&lt;!-- block:id="review_list" --&gt;</strong>
  &lt;article&gt;
    &lt;header&gt;
      &lt;div class="star"&gt;<strong>&lt;!-- cms:id="evaluation" /--&gt;</strong>&lt;/div&gt;
      &lt;h2 <strong>cms:id="title"</strong>&gt;レビューのタイトル&lt;/h2&gt;
      &lt;p&gt;<strong>&lt;!-- cms:id="update_date" /--&gt;</strong>&lt;/p&gt;
      &lt;p class="author"&gt;by <strong>&lt;!-- cms:id="nickname" /--&gt;</strong>&lt;/p&gt;
    &lt;/header&gt;
    &lt;p class="target"&gt;&lt;span&gt;レビュー対象商品：&lt;/span&gt;<strong>&lt;!-- cms:id="review_item_name" /--&gt;</strong>&lt;/p&gt;
    &lt;p <strong>cms:id="content"</strong>&gt;レビューの中身テキスト&lt;/p&gt;
  &lt;/article&gt;
  <strong>&lt;!-- /block:id="review_list" --&gt;</strong>

  <strong>&lt;!-- block:id="is_review_page" --&gt;&lt;a cms:id="review_page_link"&gt;レビューをもっと見る&lt;/a&gt;&lt;!-- /block:id="is_review_page" --&gt;</strong>
&lt;/section&gt;

<strong>&lt;!-- /block:id="has_reviews" --&gt;</strong>

<strong>&lt;!-- cms:id="is_logged_in" --&gt;</strong>
&lt;section id="review_write"&gt;
  &lt;p class="error" cms:id="review_error"&gt;投稿に失敗しました。&lt;/p&gt;
  &lt;form <strong>block:id="review_form"</strong>&gt;
    &lt;h1&gt;「<strong>&lt;!-- cms:id="review_item_name*" /--&gt;</strong>」へのカスタマーレビューを投稿する&lt;/h1&gt;
    &lt;table&gt;
      &lt;tr&gt;
        &lt;th&gt;評価&lt;/th&gt;
        &lt;td colspan="2"&gt;&lt;select <strong>cms:id="evaluation"</strong>&gt;&lt;/select&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;th&gt;タイトル&lt;/th&gt;
        &lt;td colspan="2"&gt;&lt;input type="text" <strong>cms:id="title"</strong>&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;th&gt;レビュー&lt;/th&gt;
        &lt;td colspan="2"&gt;&lt;textarea <strong>cms:id="content"</strong>&gt;&lt;/textarea&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;th&gt;ニックネーム&lt;/th&gt;
        &lt;td colspan="2"&gt;&lt;input type="text" <strong>cms:id="nickname"</strong>&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;th&gt;captcha&lt;/th&gt;
        &lt;td&gt;
          &lt;input type="text" <strong>cms:id="captcha_input"</strong>&gt;&lt;br&gt;
          <!-- soy:id="captcha_img_not_usable" -->「&lt;!-- <strong>cms:id="captcha_code"</strong> /--&gt;」と入力してください。<!-- /soy:id="captcha_img_not_usable" -->
          <!-- soy:id="captcha_img_usable" -->&lt;img <strong>cms:id="captcha_img_url"</strong>&gt;<!-- /soy:id="captcha_img_usable" -->
        &lt;/td&gt;
        &lt;td class="btn"&gt;&lt;input type="submit" value="投稿する"&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/table&gt;
  &lt;/form <strong>block:id="review_form"</strong>&gt;
&lt;/section&gt;
<strong>&lt;!-- /cms:id="is_logged_in" --&gt;</strong>

<strong>&lt;!-- cms:id="no_logged_in" --&gt;</strong>
&lt;section&gt;
  &lt;h1&gt;「<strong>&lt;!-- cms:id="review_item_name*" /--&gt;</strong>」へのカスタマーレビューを投稿する&lt;/h1&gt;
  &lt;p&gt;レビューを投稿する場合はログインしてください。&lt;/p&gt;
  &lt;p &gt;&lt;a cms:id="review_login_link"&gt;会員ログイン&lt;/a&gt;&lt;/p&gt;
&lt;/section&gt;
<strong>&lt;!-- /cms:id="no_logged_in" --&gt;</strong>
</pre>

<a href="javascript:void(0);" onclick="$('.id_example').toggle();" class="btn btn-default">cms:id一覧を表示する</a>
<div class="table-responsive">
	<table class="table table-striped id_example" style="display:none;">
		<caption>block:id="review_list"内で使用できるタグ</caption>
		<thead>
			<tr>
				<th class="col-lg-2">cms:id</th>
				<th class="col-lg-1">タグ</th>
				<th class="col-lg-9">説明</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>nickname</td>
				<td>すべて</td>
				<td>投稿者名を表示します</td>
			</tr>
			<tr>
				<td>evaluation</td>
				<td>すべて</td>
				<td>評価を表示します</td>
			</tr>
			<tr>
				<td>title</td>
				<td>すべて</td>
				<td>タイトルを表示します</td>
			</tr>
			<tr>
				<td>content</td>
				<td>すべて</td>
				<td>本文を表示します</td>
			</tr>
			<tr>
				<td>update_date</td>
				<td>すべて</td>
				<td>投稿日またはマイページでの変更日を表示します</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="table-responsive">
	<table class="table table-striped id_example" style="display:none;">
		<caption>レビュー用のページを設けた時に使用するタグblock:id="is_review_page"</caption>
		<thead>
			<tr>
				<th class="col-lg-2">cms:id</th>
				<th class="col-lg-1">タグ</th>
				<th class="col-lg-9">説明</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>review_page_link</td>
				<td>A</td>
				<td>レビュー用ページに遷移する為のリンクを出力します</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="table-responsive">
	<table class="table table-striped id_example" style="display:none;">
		<caption>block:id="review_form"内で使用できるタグ</caption>
		<thead>
			<tr>
				<th class="col-lg-2">cms:id</th>
				<th class="col-lg-1">タグ</th>
				<th class="col-lg-9">説明</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>review_error</td>
				<td>すべて</td>
				<td>レビューの投稿に失敗した際に、囲った箇所が表示されます</td>
			</tr>
			<tr>
				<td>nickname</td>
				<td>type=text</td>
				<td>投稿者名を入力するフォームを表示します</td>
			</tr>
			<tr>
				<td>title</td>
				<td>input</td>
				<td>タイトルを入力するテキストエリアを表示します</td>
			</tr>
			<tr>
				<td>content</td>
				<td>textarea</td>
				<td>本文を入力するテキストエリアを表示します</td>
			</tr>
			<tr>
				<td>evaluation</td>
				<td>select</td>
				<td>評価を選択するセレクトボックスを表示します</td>
			</tr>
			<tr>
				<td>evaluation_star</td>
				<td>すべて</td>
				<td>
					評価をクリックで選択できる５つ星のエリアを表示します。<br>
					使用する場合は表示箇所よりも前でjQueryを読み込んでおく必要があります。
				</td>
			</tr>
			<tr>
				<td>captcha_input</td>
				<td>input</td>
				<td>フォームを表示している場合は、文字認証による投稿制限を行えます</td>
			</tr>
			<tr soy:id="captcha_img_not_usable*">
				<td>captcha_code</td>
				<td>すべて</td>
				<td>文字認証の文字列を表示します</td>
			</tr>
			<tr soy:id="captcha_img_usable*">
				<td>captcha_img_url</td>
				<td>img</td>
				<td>画像認証の画像を表示します</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="table-responsive">
	<table class="table table-striped id_example" style="display:none;">
		<caption>上記以外のタグ</caption>
		<thead>
			<tr>
				<th class="col-lg-2">cms:id</th>
				<th class="col-lg-1">タグ</th>
				<th class="col-lg-9">説明</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>is_logged_in</td>
				<td>すべて</td>
				<td>ログインモードをOnの時、ログインしている時に表示される</td>
			</tr>
			<tr>
				<td>no_logged_in</td>
				<td>すべて</td>
				<td>ログインモードをOnの時、ログインしていない時に表示される</td>
			</tr>
		</tbody>
	</table>
</div>

<div class="table table-responsive">
	<table class="table table-striped id_example" style="display:none;">
		<caption>block:id="item" or block:id="item_list"で使用できるタグ</caption>
		<thead>
			<tr>
				<th class="col-lg-2">cms:id</th>
				<th class="col-lg-1">タグ</th>
				<th class="col-lg-9">説明</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>is_evaluation_average</td>
				<td>すべて</td>
				<td>囲った個所が評価の平均が1以上の場合に表示される</td>
			</tr>
			<tr>
				<td>evaluation_average</td>
				<td>すべて</td>
				<td>評価の平均を数字で表示します</td>
			</tr>
			<tr>
				<td>evaluation_average_star</td>
				<td>すべて</td>
				<td>評価の平均を５つ星形式で表示します</td>
			</tr>
		</tbody>
	</table>
</div>


<br />

<h3>商品レビューの設定</h3>

<div class="alert alert-success" soy:display="updated">変更しました</div>
<div class="alert alert-danger" soy:display="failed">失敗しました</div>

<form soy:id="form">
	<div class="form-group">
		<label for="">評価の色設定</label><br>
		#<input type="text" soy:id="code" value="" />
	</div>
	<div class="form-group">
		<label for="">ニックネームが空の時の表示設定</label><br>
		<input type="text" soy:id="nickname" vlaue="" />
	</div>
	<div class="form-group">
		<label for="">ログインモード</label><br>
		<input type="checkbox" soy:id="login_mode" value="" />
	</div>
	<div class="form-group">
		<label for="">公開設定</label><br>
		<input type="checkbox" soy:id="publish_mode" value="" />
	</div>
	<div class="form-group">
		<label for="">マイページ編集</label><br>
		<input type="checkbox" soy:id="edit_review" value="" />
	</div>
	<!-- soy:display="display_point_form" -->
	<div class="form-group">
		<label for="">コメント投稿時にポイントを加算(0以上でポイント付与)</label><br>
		<input type="number" soy:id="point">
	</div>
	<!-- /soy:display="display_point_form" -->
	<!-- soy:id="captcha_img_not_usable*" -->
	<div class="form-group">
		<label for="">簡易的な文字認証で投稿制限</label><br>
		<input type="text" soy:id="captcha" value="">
	</div>
	<!-- /soy:id="captcha_img_not_usable*" -->
	<!-- soy:id="captcha_img_usable*" -->
	<div class="form-group">
		<label for="">画像認証での投稿制限</label><br>
		<input type="checkbox" soy:id="captcha_img" value="">
	</div>
	<!-- /soy:id="captcha_img_usable*" -->

	<div class="form-group">
		<label for="">マイページの評価フォーム</label><br>
		<input type="checkbox" soy:id="edit_evaluation_star">
	</div>

	<div class="form-group">
		<label for="">レビューを別ページで表示する(ページャ付き)</label><br>
		<input type="checkbox" soy:id="active_other_page"><br>
		<a href="javascript:void(0);" onclick="$('.other_page_example').toggle();" class="btn btn-default">レビューページの設定方法</a>
		<div class="other_page_example" style="display:none;">
			<ul style="list-style-type:disc;margin-left:15px;">
				<li>フリーページでレビューを表示するページを作成する</li>
				<li>下記の記述例を元にテンプレートを作成する<br>
					shop:module="common.review_page"タグ内ではこのページの上部のcms:id一覧とshop:module="common.pager_navigation"で使用できるタグが使用可能です。<br>
					<a href="https://saitodev.co/soycms/soyshop/tutorial/72" target="_blank">商品一覧ページでページャを設置する - SOY Shopを使ってみよう</a>
<pre style="border:1px solid #000000;padding:3px;overflow-x:scroll;">&lt;!-- shop:module="common.review_page" --&gt;
&lt;section&gt;
	&lt;h1&gt;「&lt;!-- cms:id="review_item_name" --&gt;苔オブジェ&lt;!-- /cms:id="review_item_name" --&gt;」へのカスタマーレビュー&lt;/h1&gt;

	&lt;div&gt;&lt;a cms:id="back_link"&gt;商品詳細ページに戻る&lt;/a&gt;&lt;/div&gt;

	&lt;!-- block:id="review_list" --&gt;
	&lt;article&gt;
		&lt;header class="clearfix"&gt;
			&lt;div class="star"&gt;&lt;!-- cms:id="evaluation" --&gt;★★☆☆☆&lt;!-- /cms:id="evaluation" --&gt;&lt;/div&gt;
			&lt;h2 cms:id="title"&gt;レビューのタイトルレビューのタイトル&lt;/h2&gt;
			&lt;p class="date"&gt;&lt;!-- cms:id="update_date" --&gt;2011.04.14&lt;!-- /cms:id="update_date" --&gt;&lt;/p&gt;
			&lt;p class="author"&gt;by &lt;!--a href="#"--&gt;&lt;!-- cms:id="nickname" --&gt;齋藤 毅&lt;!-- /cms:id="nickname" --&gt;&lt;!--/a--&gt;&lt;/p&gt;
		&lt;/header&gt;
		&lt;p class="target"&gt;&lt;span&gt;レビュー対象商品：&lt;/span&gt;&lt;!-- cms:id="item_name" --&gt;苔オブジェ&lt;!-- /cms:id="item_name" --&gt;&lt;/p&gt;
		&lt;p cms:id="content"&gt;レビューの中身テキスト文章レビューの中身テキスト文章レビューの中身テキスト文章レビューの中身テキスト文章レビューの中身テキスト文章レビューの中身テキスト文章レビューの中身テキスト文章レビューの中身テキスト文章。&lt;/p&gt;
	&lt;/article&gt;
	&lt;!-- /block:id="review_list" --&gt;
&lt;/section&gt;

&lt;!-- block:id="has_pager" --&gt;
&lt;div&gt;
	&lt;ul&gt;
		&lt;!-- cms:id="has_prev" --&gt;&lt;li class="prev"&gt;&lt;a href="#" cms:id="prev_link"&gt;前へ&lt;/a&gt;&lt;/li&gt;&lt;!-- /cms:id="has_prev" --&gt;
		&lt;!-- cms:id="has_next" --&gt;&lt;li class="next"&gt;&lt;a href="#" cms:id="next_link"&gt;次へ&lt;/a&gt;&lt;/li&gt;&lt;!-- /cms:id="has_next" --&gt;
		&lt;li&gt;&lt;!-- cms:id="current_page" /--&gt;/&lt;!-- cms:id="total_page" /--&gt;&lt;/li&gt;
	&lt;/ul&gt;
&lt;/div&gt;
&lt;!-- /block:id="has_pager" --&gt;
&lt;!-- /shop:module="common.review_page" --&gt;</pre>
				</li>
				<li>下記のレビュー用のページの項目で作成したページを登録する</li>
				<li>レビューのフォームを設置している商品詳細ページでレビューページへ遷移するリンクを設置する<br>
<pre style="border:1px solid #000000;padding:3px;overflow-x:scroll;">&lt;!-- block:id="is_review_page" --&gt;
&lt;a cms:id="review_page_link"&gt;レビューをもっと見る&lt;/a&gt;
&lt;!-- /block:id="is_review_page" --&gt;</pre>
				</li>
			</ul>
		</div>
	</div>

	<div class="form-group">
		<label for="">レビュー用のページ(フリーページのみ)</label><br>
		<select soy:id="review_page_id"><option></option></select>
	</div>

	<div class="form-group">
		<label for="">レビューの出力件数(1以上で有効)</label><br>
		<input type="number" soy:id="review_count">&nbsp;件
	</div>

	<div class="text-center">
		<input type="submit" class="btn btn-primary btn-lg" name="update" value="変更" tabindex="400" />
	</div>
</form>
