<div class="text-right">
	<a class="btn btn-primary" href="javascript:void(0);" data-toggle="modal" data-target="#customfieldModal">項目の追加</a>
</div>

<br />

<div class="panel-body">

	<p class="alert alert-danger" soy:display="no_install_user_custom_field">顧客グループプラグインを使用する際は必ずユーザーカスタムサーチフィールドをインストールしてください。</p>

	<div class="alert alert-success" soy:display="updated">更新しました</div>
	<div class="alert alert-success" soy:display="deleted">削除しました</div>
	<div class="alert alert-danger" soy:display="error">失敗しました</div>

	<table class="table table-striped">
		<caption>サーチフィールド</caption>
		<tr>
			<th>ID</th>
			<th>ラベル</th>
			<th>タイプ</th>
			<th>表示順</th>
			<th>表示のさせ方</th>
			<th>操作</th>
		</tr>

		<!-- soy:id="field_list" -->
		<tr>
			<td soy:id="key"></td>
			<td soy:id="label"></td>
			<td soy:id="type"></td>
			<td style="text-align:center;">
					<form method="post">
						<input type="hidden" soy:id="field_id" />
						<input type="submit" name="move_up" class="btn btn-default" value="△" />
						<input type="submit" name="move_down" class="btn btn-default" value="▽" />
					</form>
			</td>
			<td soy:id="display"></td>
			<td>
				<a soy:id="toggle_config" class="btn btn-warning">Detail</a>&nbsp;

				<a soy:id="delete" class="btn btn-danger">Delete</a>
				<form method="post">
					<input type="submit" soy:id="delete_submit" style="display:none;" />
				</form>
			</td>
		</tr>
		<tr soy:id="field_config" style="display:none;">
			<td colspan="3"></td>
			<td colspan="3">
				<h5 style="margin-bottom:0;">詳細設定</h5>

				<form method="post">
					<dl>
						<!-- soy:id="with_options" -->
						<dt>選択項目<span class="option">(項目を改行で区切ってください)</span></dt>
						<dd>
							<textarea soy:id="option" class="form-control"></textarea>
						</dd>
						<!-- /soy:id="with_options" -->

						<!-- soy:id="with_map_key" -->
						<dt>Google Maps APIのKEY</dt>
						<dd>
							<input type="text" soy:id="map_key" class="form-control">
						</dd>
						<!-- /soy:id="with_map_key" -->

						<!--dt>一括設定</dt>
						<dd>
							<a href="" soy:id="setting_link">一括設定ページを開く</a>
						</dd-->
					</dl>

					<div class="text-right">
						<input type="button" soy:id="update_advance" class="btn btn-primary btn-lg" value="設定保存">
					</div>

					<input type="submit" style="display:none;" soy:id="update_advance_submit" />
				</form>

			</td>
		</tr>
		<!-- /soy:id="field_list" -->
	</table>
	<span style="margin:0 0 0 20px;">※地図付き住所を使用する場合、フィールドの作成は一つまでです。</span><br>
	<span style="margin:0 0 0 20px;">※フィールド作成後は詳細設定でGoogle Maps API Keyを登録することで使用できるようになります。</span>
</div><!-- /block_body -->

<h3 style="margin:10px 0;">テンプレートへの記述例 ※未実装</h3>
<p>ご利用を希望される方は<a href="https://saitodev.co/soycms/inquiry" target="_blank">https://saitodev.co/soycms/inquiry</a>のフォームからご連絡下さい。</p>
<pre style="border:1px solid #000000;padding:5px 20px;margin:5px 35px; overflow-x: auto; display:none;" class="script_example">
&lt;!-- shop:module="user.group.g_search_field" --&gt;
&lt;form action="{shop:module="user.group.g_search_field_result"を設置したページのURLを入力して下さい}"&gt;
	グループ名:
	&lt;input type="text" gsf:id="custom_search_group_name"&gt;

	グループコード:
	&lt;input type="text" gsf:id="custom_search_group_code"&gt;


<!-- soy:id="example_tag_list" -->
<!-- /soy:id="example_tag_list" -->

    &lt;input type="submit" value="検索する"&gt;
&lt;/form&gt;
&lt;!-- /shop:module="user.group.g_search_field" --&gt;
</pre>

<div class="modal" tabindex="-1" role="dialog" id="customfieldModal">
	<div class="modal-dialog modal-sm" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">項目の追加</h5>
			</div>
			<div class="modal-body">
				<form soy:id="create_form" id="create_form">
					<input type="hidden" name="create" value="create" />
					<div>
						ID
						<div class="alL">
						<input id="custom_key" name="custom_key" type="text" class="text validate">
						<p class="alert alert-danger" id="custom_key_error" style="display:none;">必須項目を入力してください</p>
						</div>

						ラベル

						<div class="alL">
						<input id="custom_label" name="custom_label" type="text" class="text validate">
						<p class="alert alert-danger" id="custom_label_error" style="display:none;">必須項目を入力してください</p>
						</div>


						項目種別
						<div class="alL">
							<select name="custom_type" soy:id="custom_type_select"></select>
						</div>

					</div>
					<div class="text-right">
						<a class="btn btn-default" href="javascript:void(0);" onclick="$('#create_form').trigger('submit');">追加</a>
					</div>
					<p class="close"></p>
				</form>
			</div>
			<div class="modal-footer">
				<button type="button" id="customfieldModal" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
