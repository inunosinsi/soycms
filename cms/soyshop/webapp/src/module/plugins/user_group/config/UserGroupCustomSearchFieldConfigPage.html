<div class="alR">
	<a class="button" href="javascript:void(0);" onclick="$('#append_form_el').trigger('popup',{height:300});">項目の追加</a>
</div>

<br />

<div class="block_body clearfix">

	<p class="error always" soy:display="no_install_user_custom_field">顧客グループプラグインを使用する際は必ずユーザーカスタムサーチフィールドをインストールしてください。</p>

	<p class="notice" soy:display="updated">更新しました</p>
	<p class="notice" soy:display="deleted">削除しました</p>
	<p class="error" soy:display="error">失敗しました</p>

	<table class="form_list">
		<caption>サーチフィールド</caption>
		<tr>
			<th>ID</th>
			<th>ラベル</th>
			<th>タイプ</th>
			<th>表示順</th>
			<th>表示のさせ方</th>
			<th>操作</th>
		</tr>

		<!-- soy:id="field_list" -->
		<tr>
			<td soy:id="key"></td>
			<td soy:id="label"></td>
			<td soy:id="type"></td>
			<td style="text-align:center;">
					<form method="post">
						<input type="hidden" soy:id="field_id" />
						<input type="submit" name="move_up" value="△" />
						<input type="submit" name="move_down" value="▽" />
					</form>
			</td>
			<td soy:id="display"></td>
			<td>
				<a soy:id="toggle_config">Detail</a>&nbsp;

				<a soy:id="delete">Delete</a>
				<form method="post">
					<input type="submit" soy:id="delete_submit" style="display:none;" />
				</form>
			</td>
		</tr>
		<tr soy:id="field_config" style="display:none;">
			<td colspan="2"></td>
			<td colspan="3">
				<h5 style="margin-bottom:0;">詳細設定</h5>

				<form method="post">
					<dl>
						<!-- soy:id="with_options" -->
						<dt>選択項目<span class="option">(項目を改行で区切ってください)</span></dt>
						<dd>
							<textarea soy:id="option"></textarea>
						</dd>
						<!-- /soy:id="with_options" -->

						<!-- soy:id="with_map_key" -->
						<dt>Google Maps APIのKEY</dt>
						<dd>
							<input type="text" soy:id="map_key">
						</dd>
						<!-- /soy:id="with_map_key" -->

						<!--dt>一括設定</dt>
						<dd>
							<a href="" soy:id="setting_link">一括設定ページを開く</a>
						</dd-->
					</dl>

					<div style="margin:10px 1em 2em;text-align:right;">
						<input type="button" soy:id="update_advance" style="padding:10px 20px;" value="設定保存" />
					</div>

					<input type="submit" style="display:none;" soy:id="update_advance_submit" />
				</form>

			</td>
		</tr>
		<!-- /soy:id="field_list" -->
	</table>
	<span style="margin:0 0 0 20px;">※地図付き住所を使用する場合、フィールドの作成は一つまでです。</span><br>
	<span style="margin:0 0 0 20px;">※フィールド作成後は詳細設定でGoogle Maps API Keyを登録することで使用できるようになります。</span>

	<div id="append_form_el" class="popup" style="display:none;">
		<form soy:id="create_form" id="create_form">
			<input type="hidden" name="create" value="create" />
			<p>
				ID
				<div class="alL">
				<input id="custom_key" name="custom_key" type="text" class="text validate">
				<p class="require" id="custom_key_error" style="display:none;">必須項目を入力してください</p>
				</div>

				ラベル

				<div class="alL">
				<input id="custom_label" name="custom_label" type="text" class="text validate">
				<p class="require" id="custom_label_error" style="display:none;">必須項目を入力してください</p>
				</div>


				項目種別
				<div class="alL">
					<select name="custom_type" soy:id="custom_type_select"></select>
				</div>

			</p>
			<p class="alC">
				<a class="button" href="javascript:void(0);" onclick="$('#create_form').trigger('submit');">追加</a>
			</p>
			<p class="close"></p>
		</form>
	</div>
</div><!-- /block_body -->

<h3 style="margin:10px 0;">テンプレートへの記述例</h3>
<pre style="border:1px solid #000000;padding:5px 20px;margin:5px 35px; overflow-x: auto;" class="script_example">
&lt;!-- shop:module="user.search_field" --&gt;
&lt;form action="{shop:module="user.search_field_result"を設置したページのURLを入力して下さい}"&gt;
	グループ名:
	&lt;input type="text" gsf:id="custom_search_group_name"&gt;

	グループコード:
	&lt;input type="text" gsf:id="custom_search_group_code"&gt;


<!-- soy:id="example_tag_list" -->
<!-- /soy:id="example_tag_list" -->

    &lt;input type="submit" value="検索する"&gt;
&lt;/form&gt;
&lt;!-- /shop:module="user.search_field" --&gt;
</pre>
