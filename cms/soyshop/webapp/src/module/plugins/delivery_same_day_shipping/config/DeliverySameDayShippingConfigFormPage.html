<div class="alert alert-success" soy:display="updated">変更しました</div>

<div class="alert alert-info">
	このプラグインは営業日カレンダープラグインと連携します。
	<!-- soy:display="installed_calendar_plugin" --><a soy:id="calendar_config_link">営業日の設定画面を開く</a><!-- /soy:display="installed_calendar_plugin" -->
	<!-- soy:display="no_installed_calendar_plugin" -->営業日カレンダープラグインをインストールしてください。<!-- /soy:display="no_installed_calendar_plugin" -->
</div>

<form soy:id="form">
	<div class="form-group">
		<label>タイトル</label>
		<input type="text" class="form-control" soy:id="title">
	</div>

	<div class="form-group">
		<label>定休日設定</label><br>
		<a soy:id="calendar_config_link*" class="btn btn-primary">営業日カレンダーの設定画面を開く</a>
	</div>

	<div class="form-group">
		<label>営業時間設定</label>
		<div class="form-inline">
			<select soy:id="business_hour_start_hour"></select>:<select soy:id="business_hour_start_min"></select>〜
			<select soy:id="business_hour_end_hour"></select>:<select soy:id="business_hour_end_min"></select>
		</div>
	</div>

	<div class="form-group">
		<label>午前の注文時の設定</label>
		<div class="form-inline">
			<input type="number" soy:id="delivery_after_day_am">日後に納品
			<h4>カートに表示する文言</h4>
			<textarea soy:id="delivery_after_description_am" class="form-control"></textarea>
			<div class="alert alert-warning">
				※発送日の#SHIPPING_YEAR#、#SHIPPING_MONTH#と#SHIPPING_DAY#が使用できます。<br>
				※到着予定日の#ARRIVAL_YEAR#、#ARRIVAL_MONTH#と#ARRIVAL_DAY#も使用できます。
			</div>
		</div>
	</div>

	<div class="form-group">
		<label>午後の注文時の設定</label>
		<div class="form-inline">
			<input type="number" soy:id="delivery_after_day_pm">日後に納品
			<h4>カートに表示する文言</h4>
			<textarea soy:id="delivery_after_description_pm" class="form-control"></textarea>
			<div class="alert alert-warning">
				※発送日の#SHIPPING_YEAR#、#SHIPPING_MONTH#と#SHIPPING_DAY#が使用できます。<br>
				※到着予定日の#ARRIVAL_YEAR#、#ARRIVAL_MONTH#と#ARRIVAL_DAY#も使用できます。
			</div>
		</div>
	</div>

	<div class="form-group">
		<label>営業時間外、定休日の注文時の設定</label>
		<div class="form-inline">
			翌営業日の<input type="number" soy:id="delivery_after_day_regular">日後に納品
			<h4>カートに表示する文言</h4>
			<textarea soy:id="delivery_after_description_regular" class="form-control"></textarea>
			<div class="alert alert-warning">
				※翌営業日の表示として#SHIPPING_YEAR#、#SHIPPING_MONTH#と#SHIPPING_DAY#が使用できます。<br>
				※到着予定日の#ARRIVAL_YEAR#、#ARRIVAL_MONTH#と#ARRIVAL_DAY#も使用できます。
			</div>
		</div>
	</div>

	<div class="text-center">
		<input type="submit" class="btn btn-primary btn-lg" value="変更">
	</div>

	<h4>配送料無料設定</h4>
	<div class="table-responsive">
		<table class="table table-striped" style="">
			<tr>
				<th style="width:20%;">購入金額</th>
				<td>
					<input type="number" class="alR text" soy:id="price_free" style="text-align:right;ime-mode:inactive;width:30%;"/>
					&nbsp;円以上お買い上げの方は配送料無料
				</td>
			</tr>
		</table>
	</div>

	<div class="text-center">
		<input type="submit" class="btn btn-primary btn-lg" value="変更">
	</div>

	<br>

	<h4>都道府県別料金</h4>
	<div class="table-responsive">
		<table class="table table-striped" style="">
			<tr>
				<th style="width:20%;">
					<input type="checkbox" id="toggle_checkbox" onclick="toggle_check(this);return true;" />
					<label for="toggle_checkbox">一括設定</label>
				</th>
				<td>
					<div class="form-inline">
						<input class="form-control" type="number" style="text-align:right;width:30%;" id="toggle_price" value="" />
						<button type="button" class="btn btn-primary" onclick="toggle_all();">設定する</button>
					</div>
				</td>
			</tr>
		</table>

		<table class="table table-striped" style="width:35%;float:left;margin-left:10%;">
			<tr>
				<th style="width:5em;">県名</th>
				<th style="width:5em;">送料</th>
			</tr>
			<!--  soy:id="prices" -->
			<tr>
			<th >
				<input type="checkbox" class="price_input_check" soy:id="area_check" />
			</th>
			<td>
				<input class="alR text" style="width: 100px;" type="number" soy:id="price" /> 円
			</td>
			</tr>

			<!--  soy:id="second_table" -->
			</table>
			<table class="table table-striped" style="width:35%;float:left;margin-left:5%;" >
					<tr>
						<th style="width:5em;">県名</th>
						<th style="width:5em;">送料</th>
					</tr>
				<!--  /soy:id="second_table" -->

				<!--  /soy:id="prices" -->
		</table>
	</div>

	<div class="text-center">
		<input type="submit" class="btn btn-primary btn-lg" value="変更">
	</div>
</form>

<br>

<h4>テンプレートへの記述</h4>

<div class="table-responsive">
	<table class="table table-striped">
		<caption>使用できるタグ</caption>
		<thead>
			<tr>
				<th>dsd&#58;id</th>
				<th>使用できるタグ</th>
				<th>詳細</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>description</td>
				<td>すべて</td>
				<td>説明文を出力します。</td>
			</tr>
			<tr>
				<td>shipping_year</td>
				<td>すべて</td>
				<td>発送日の年を出力します。</td>
			</tr>
			<tr>
				<td>shipping_month</td>
				<td>すべて</td>
				<td>発送日の月を出力します。</td>
			</tr>
			<tr>
				<td>shipping_day</td>
				<td>すべて</td>
				<td>発送日の日を出力します。</td>
			</tr>
			<tr>
				<td>arrival_year</td>
				<td>すべて</td>
				<td>到着予定日の年を出力します。</td>
			</tr>
			<tr>
				<td>arrival_month</td>
				<td>すべて</td>
				<td>到着予定日の月を出力します。</td>
			</tr>
			<tr>
				<td>arrival_day</td>
				<td>すべて</td>
				<td>到着予定日の日を出力します。</td>
			</tr>
		</tbody>
	</table>
</div>

<pre>
&lt;!-- dsd:id="description" /--&gt;

発送日:
&lt;!-- dsd:id="shipping_year" /--&gt;年
&lt;!-- dsd:id="shipping_month" /--&gt;月
&lt;!-- dsd:id="shipping_day" /--&gt;日

到着予定日:
&lt;!-- dsd:id="arrival_year" /--&gt;年
&lt;!-- dsd:id="arrival_month" /--&gt;月
&lt;!-- dsd:id="arrival_day" /--&gt;日
</pre>

<script type="text/javascript">
function toggle_check(all){
	$(".price_input_check").each(function(){
		var ele = $(this);
		if(all.checked){
			ele.attr("checked","checked");
		}else{
			ele.removeAttr("checked");
		}

	});
}

function toggle_all(){
	var price = $("#toggle_price").val();
	$(".price_input_check").each(function(){
		var ele = $(this);

		if(ele.attr("checked")){
			$("#" + ele.attr("targetId")).val(price);
		}
	});
}
</script>
