<h3><!-- soy:id="label" /-->のカスタムフィールド</h3>
<div class="text-left">
	<a soy:link="Config.Detail?plugin=custom_search_field" class="btn btn-default">戻る</a>
</div>

<br>

<div class="alert alert-success" soy:display="updated">更新しました</div>

<form soy:id="form">
	<div class="form-group">
		<!-- soy:id="custom_search_custom_field" /-->
	</div>

	<div class="text-center">
		<input type="submit" name="update" class="btn btn-primary btn-lg" value="更新">
	</div>
</form>

<!-- image_select -->
<div class="modal" tabindex="-1" role="dialog" id="imageSelectModal">
	<div class="modal-dialog modal-lg" role="document">
		<div class="modal-content">
			<div class="modal-header">
				<h5 class="modal-title">画像のアップロード</h5>
			</div>
			<div class="modal-body">
				<div id="upload_form_el" class="popup">
					<iframe name="upload_target_frame" src="about:blank;" frameborder="0" style="height:0;width:0;position:absolute;"></iframe>
					<form soy:id="upload_form">
						<input type="hidden" name="upload" soy:id="csf_field_id_upload" value="" />
						<p>
							<span>
						<input id="upload_input" name="upload_file[]" type="file" multiple="true" />

						</span>
							<a class="btn btn-default" href="javascript:void(0);" onclick="$( '#upload_form').trigger( 'submit');">Upload</a>
						</p>
						<hr />
						<div id="select_image_list" class="image_list">
							<!-- soy:id="image_list" -->
							<img soy:id="image" class="image_list_image" />
							<!-- /soy:id="image_list" -->
						</div>
					</form>
				</div>
			</div>
			<div class="modal-footer">
				<button type="button" id="imageSelectModalClose" class="btn btn-secondary" data-dismiss="modal">Close</button>
			</div>
		</div>
	</div>
</div>
<!-- /image_select -->



<style>
#upload_form_el .image_list img.image_used {
	border: solid 3px #ffd700;
}

#upload_form_el .image_list {
	width: 640px;
	height: 400px;
	overflow: auto;
}

#upload_form_el .image_list img {
	margin: 5px;
	border: solid 3px #666;
	cursor: pointer;
	vertical-align: top;
}

#upload_form_el .image_list img.append_new {
	border: solid 3px #ffff00;
}

#select_image_info {
	position: absolute;
	border: solid 1px #eee;
	background-color: white;
	text-align: left;
	box-shadow: 2px 2px 3px #999;
	-webkit-box-shadow: 2px 2px 3px #999;
	-moz-box-shadow: 2px 2px 3px #999;
}

.image_select_preview {
	display: block;
	margin-top: 3px;
}
</style>

<script type="text/javascript" soy:src="../soycms/js/tinymce/tinymce.min.js"></script>
<script type="text/javascript">
    $(function() {
        tinymce.init({
            mode: "specific_textareas",
            editor_selector: "mceEditor",
            theme: "modern",
            skin: "lightgray",
            plugins: "save,pagebreak,table,hr,insertdatetime,searchreplace,contextmenu,code,textcolor,paste,directionality,fullscreen,noneditable,charmap,visualchars,nonbreaking,innerlink,insertimage,insertwidget",
            tools: "inserttable",
            language: "ja",
            menubar: false,
            toolbar1: "save | cut copy paste pastetext | searchreplace | bold italic underline strikethrough | subscript superscript | forecolor backcolor | alignleft aligncenter alignright | formatselect fontselect fontsizeselect",
            toolbar2: "bullist numlist | outdent indent blockquote | undo redo | cleanup removeformat code styleprops attribs | fullscreen preview | insertdate inserttime | insertwidget | table",

            init_instance_callback: function(editor) {
                //            onInitTinymceEditor(editor.id);
            },
            oninit: function() {
                //            onInitTinymce();
            },

            cleanup: true,
            verify_html: false,
            convert_urls: false,
            relative_urls: false,
            entity_encoding: "named"
        });
    });

</script>
<script type="text/javascript" soy:src="../soyshop/js/ImageSelect.js"></script>
